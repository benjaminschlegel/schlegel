labels = c('Strongly for equal chances','Rather for equal chances',
'Neither nor', 'Rather for better chances for Swiss',
'Strongly for better chances for Swiss')),
opinion_environment_economy = factor(ifelse(opinion_environment_economy > 5, NA, opinion_environment_economy),
labels = c('Strongly for environmental protection','Rather for environmental protection',
'Neither nor', 'Rather for economic growth',
'Strongly for economic growth')),
opinion_nuclear_energy = factor(ifelse(opinion_nuclear_energy > 5, NA, opinion_nuclear_energy),
labels = c('Strongly for nuclear energy','Rather for nuclear energy',
'Neither nor', 'Rather against nuclear energy',
'Strongly against nuclear energy')),
opinion_social_expense = factor(ifelse(opinion_social_expense > 5, NA, opinion_social_expense),
labels = c('Strongly for decrease','Rather for decrease',
'Neither nor', 'Rather for increase',
'Strongly for increase'))) %>% as.data.frame()
saveRDS(selects2015, "../selects2015.Rds")
View(selects2015)
selects2015 = haven::read_dta("726_Selects2015_PES_Data_v1.03.dta") %>%
select(gender, age = birthyear, canton,
education = educ_r, participanton = f11100r,
vote_choice = f11800main7,
political_interest = f10100,
lr_self = f15200, knowscale,
opinion_social_expense = f15420,
opinion_eu_membership = f15430,
opinion_foreigners_swiss_equal = f15440,
opinion_environment_economy = f15470,
opinion_nuclear_energy = f15490,
weight_total) %>%
mutate(gender = factor(gender, labels = c('male','female')),
age = 2015 - ifelse(age == -9, NA, age),
education = factor(recode(as.character(education),
'1' = 'no graduation',
'2' = 'no graduation',
'3' = 'compulsory schooling',
'4' = 'apprenticeship',
'5' = 'apprenticeship',
'6' = 'diploma or trading school',
'7' = 'diploma or trading school',
'8' = '(vocational) matura',
'9' = '(vocational) matura',
'10' = 'higher vocational degree',
'11' = 'HF',
'12' = '(applied/teacher) university',
'13' = '(applied/teacher) university',
.default = NA_character_),
levels = c('no graduation',
'compulsory schooling',
'apprenticeship',
'diploma or trading school',
'(vocational) matura',
'higher vocational degree',
'HF','(applied/teacher) university')),
participanton = ifelse(participanton > 1, NA, participanton),
vote_choice = factor(ifelse(vote_choice == 9, NA, vote_choice),
labels = c("SVP","FDP","BDP","CVP","CLP","SP","GPS","other")),
political_interest = factor(ifelse(political_interest > 8, NA, political_interest),
labels = c("very interest", "rather interest", "rather not interested", "not interested at all")),
lr_self = ifelse(lr_self > 10, NA, lr_self),
knowscale = ifelse(knowscale == -1, NA, knowscale),
opinion_eu_membership = factor(ifelse(opinion_eu_membership > 5, NA, opinion_eu_membership),
labels = c('Strongly for EU entry','Rather for EU entry',
'Neither nor', 'Rather in favour to stay out',
'Strongly in favour to stay out')),
opinion_foreigners_swiss_equal = factor(ifelse(opinion_foreigners_swiss_equal > 5, NA, opinion_foreigners_swiss_equal),
labels = c('Strongly for equal chances','Rather for equal chances',
'Neither nor', 'Rather for better chances for Swiss',
'Strongly for better chances for Swiss')),
opinion_environment_economy = factor(ifelse(opinion_environment_economy > 5, NA, opinion_environment_economy),
labels = c('Strongly for environmental protection','Rather for environmental protection',
'Neither nor', 'Rather for economic growth',
'Strongly for economic growth')),
opinion_nuclear_energy = factor(ifelse(opinion_nuclear_energy > 5, NA, opinion_nuclear_energy),
labels = c('Strongly for nuclear energy','Rather for nuclear energy',
'Neither nor', 'Rather against nuclear energy',
'Strongly against nuclear energy')),
opinion_social_expense = factor(ifelse(opinion_social_expense > 5, NA, opinion_social_expense),
labels = c('Strongly for decrease','Rather for decrease',
'Neither nor', 'Rather for increase',
'Strongly for increase'))) %>% as.data.frame()
View(selects2015)
haven::read_dta("726_Selects2015_PES_Data_v1.03.dta")$gender
getwd()
setwd("../")
getwd()
getwd("schlegel")
getwd("/schlegel")
setwd("schlegel")
getwd()
save(selects2015,file="data/selects2015.RData")
selects2015 = haven::read_dta("726_Selects2015_PES_Data_v1.03.dta") %>%
select(gender, age = birthyear, canton,
education = educ_r, participanton = f11100r,
vote_choice = f11800main7,
political_interest = f10100,
lr_self = f15200, knowscale,
opinion_social_expense = f15420,
opinion_eu_membership = f15430,
opinion_foreigners_swiss_equal = f15440,
opinion_environment_economy = f15470,
opinion_nuclear_energy = f15490,
weight_total) %>%
mutate(gender = factor(gender, labels = c('male','female')),
age = 2015 - ifelse(age == -9, NA, age),
canton = factor(canton,
labels = c('Zurich','Bern','Luzern','Uri','Schwyz','Obwalden',
'Niedwalden','Glarus','Zug','Fribourg','Solothurn',
'Basel-Stadt','Basel-Landschaft','Schffhausen',
'Appenzell Ausserrhoden','Appenzell Innerrhoden',
'St. Gallen','Grisons','Aargau','Thurgau','Ticino',
'Vaud','Valais','Neuchatel','Geneva','Jura'))
education = factor(recode(as.character(education),
'1' = 'no graduation',
'2' = 'no graduation',
'3' = 'compulsory schooling',
'4' = 'apprenticeship',
'5' = 'apprenticeship',
'6' = 'diploma or trading school',
'7' = 'diploma or trading school',
'8' = '(vocational) matura',
'9' = '(vocational) matura',
'10' = 'higher vocational degree',
'11' = 'HF',
'12' = '(applied/teacher) university',
'13' = '(applied/teacher) university',
.default = NA_character_),
levels = c('no graduation',
'compulsory schooling',
'apprenticeship',
'diploma or trading school',
'(vocational) matura',
'higher vocational degree',
'HF','(applied/teacher) university')),
participanton = ifelse(participanton > 1, NA, participanton),
vote_choice = factor(ifelse(vote_choice == 9, NA, vote_choice),
labels = c("SVP","FDP","BDP","CVP","CLP","SP","GPS","other")),
political_interest = factor(ifelse(political_interest > 8, NA, political_interest),
labels = c("very interest", "rather interest", "rather not interested", "not interested at all")),
lr_self = ifelse(lr_self > 10, NA, lr_self),
knowscale = ifelse(knowscale == -1, NA, knowscale),
opinion_eu_membership = factor(ifelse(opinion_eu_membership > 5, NA, opinion_eu_membership),
labels = c('Strongly for EU entry','Rather for EU entry',
'Neither nor', 'Rather in favour to stay out',
'Strongly in favour to stay out')),
opinion_foreigners_swiss_equal = factor(ifelse(opinion_foreigners_swiss_equal > 5, NA, opinion_foreigners_swiss_equal),
labels = c('Strongly for equal chances','Rather for equal chances',
'Neither nor', 'Rather for better chances for Swiss',
'Strongly for better chances for Swiss')),
opinion_environment_economy = factor(ifelse(opinion_environment_economy > 5, NA, opinion_environment_economy),
labels = c('Strongly for environmental protection','Rather for environmental protection',
'Neither nor', 'Rather for economic growth',
'Strongly for economic growth')),
opinion_nuclear_energy = factor(ifelse(opinion_nuclear_energy > 5, NA, opinion_nuclear_energy),
labels = c('Strongly for nuclear energy','Rather for nuclear energy',
'Neither nor', 'Rather against nuclear energy',
'Strongly against nuclear energy')),
opinion_social_expense = factor(ifelse(opinion_social_expense > 5, NA, opinion_social_expense),
labels = c('Strongly for decrease','Rather for decrease',
'Neither nor', 'Rather for increase',
'Strongly for increase'))) %>% as.data.frame()
selects2015 = haven::read_dta("726_Selects2015_PES_Data_v1.03.dta") %>%
select(gender, age = birthyear, canton,
education = educ_r, participanton = f11100r,
vote_choice = f11800main7,
political_interest = f10100,
lr_self = f15200, knowscale,
opinion_social_expense = f15420,
opinion_eu_membership = f15430,
opinion_foreigners_swiss_equal = f15440,
opinion_environment_economy = f15470,
opinion_nuclear_energy = f15490,
weight_total) %>%
mutate(gender = factor(gender, labels = c('male','female')),
age = 2015 - ifelse(age == -9, NA, age),
canton = factor(canton,
labels = c('Zurich','Bern','Luzern','Uri','Schwyz','Obwalden',
'Niedwalden','Glarus','Zug','Fribourg','Solothurn',
'Basel-Stadt','Basel-Landschaft','Schffhausen',
'Appenzell Ausserrhoden','Appenzell Innerrhoden',
'St. Gallen','Grisons','Aargau','Thurgau','Ticino',
'Vaud','Valais','Neuchatel','Geneva','Jura')),
education = factor(recode(as.character(education),
'1' = 'no graduation',
'2' = 'no graduation',
'3' = 'compulsory schooling',
'4' = 'apprenticeship',
'5' = 'apprenticeship',
'6' = 'diploma or trading school',
'7' = 'diploma or trading school',
'8' = '(vocational) matura',
'9' = '(vocational) matura',
'10' = 'higher vocational degree',
'11' = 'HF',
'12' = '(applied/teacher) university',
'13' = '(applied/teacher) university',
.default = NA_character_),
levels = c('no graduation',
'compulsory schooling',
'apprenticeship',
'diploma or trading school',
'(vocational) matura',
'higher vocational degree',
'HF','(applied/teacher) university')),
participanton = ifelse(participanton > 1, NA, participanton),
vote_choice = factor(ifelse(vote_choice == 9, NA, vote_choice),
labels = c("SVP","FDP","BDP","CVP","CLP","SP","GPS","other")),
political_interest = factor(ifelse(political_interest > 8, NA, political_interest),
labels = c("very interest", "rather interest", "rather not interested", "not interested at all")),
lr_self = ifelse(lr_self > 10, NA, lr_self),
knowscale = ifelse(knowscale == -1, NA, knowscale),
opinion_eu_membership = factor(ifelse(opinion_eu_membership > 5, NA, opinion_eu_membership),
labels = c('Strongly for EU entry','Rather for EU entry',
'Neither nor', 'Rather in favour to stay out',
'Strongly in favour to stay out')),
opinion_foreigners_swiss_equal = factor(ifelse(opinion_foreigners_swiss_equal > 5, NA, opinion_foreigners_swiss_equal),
labels = c('Strongly for equal chances','Rather for equal chances',
'Neither nor', 'Rather for better chances for Swiss',
'Strongly for better chances for Swiss')),
opinion_environment_economy = factor(ifelse(opinion_environment_economy > 5, NA, opinion_environment_economy),
labels = c('Strongly for environmental protection','Rather for environmental protection',
'Neither nor', 'Rather for economic growth',
'Strongly for economic growth')),
opinion_nuclear_energy = factor(ifelse(opinion_nuclear_energy > 5, NA, opinion_nuclear_energy),
labels = c('Strongly for nuclear energy','Rather for nuclear energy',
'Neither nor', 'Rather against nuclear energy',
'Strongly against nuclear energy')),
opinion_social_expense = factor(ifelse(opinion_social_expense > 5, NA, opinion_social_expense),
labels = c('Strongly for decrease','Rather for decrease',
'Neither nor', 'Rather for increase',
'Strongly for increase'))) %>% as.data.frame()
setwd("C:\\Users\\Benjamin Schlegel\\OneDrive - uzh.ch\\01_UZH\\06_R_Book\\data\\selects")
library(dplyr)
selects2015 = haven::read_dta("726_Selects2015_PES_Data_v1.03.dta") %>%
select(gender, age = birthyear, canton,
education = educ_r, participanton = f11100r,
vote_choice = f11800main7,
political_interest = f10100,
lr_self = f15200, knowscale,
opinion_social_expense = f15420,
opinion_eu_membership = f15430,
opinion_foreigners_swiss_equal = f15440,
opinion_environment_economy = f15470,
opinion_nuclear_energy = f15490,
weight_total) %>%
mutate(gender = factor(gender, labels = c('male','female')),
age = 2015 - ifelse(age == -9, NA, age),
canton = factor(canton,
labels = c('Zurich','Bern','Luzern','Uri','Schwyz','Obwalden',
'Niedwalden','Glarus','Zug','Fribourg','Solothurn',
'Basel-Stadt','Basel-Landschaft','Schffhausen',
'Appenzell Ausserrhoden','Appenzell Innerrhoden',
'St. Gallen','Grisons','Aargau','Thurgau','Ticino',
'Vaud','Valais','Neuchatel','Geneva','Jura')),
education = factor(recode(as.character(education),
'1' = 'no graduation',
'2' = 'no graduation',
'3' = 'compulsory schooling',
'4' = 'apprenticeship',
'5' = 'apprenticeship',
'6' = 'diploma or trading school',
'7' = 'diploma or trading school',
'8' = '(vocational) matura',
'9' = '(vocational) matura',
'10' = 'higher vocational degree',
'11' = 'HF',
'12' = '(applied/teacher) university',
'13' = '(applied/teacher) university',
.default = NA_character_),
levels = c('no graduation',
'compulsory schooling',
'apprenticeship',
'diploma or trading school',
'(vocational) matura',
'higher vocational degree',
'HF','(applied/teacher) university')),
participanton = ifelse(participanton > 1, NA, participanton),
vote_choice = factor(ifelse(vote_choice == 9, NA, vote_choice),
labels = c("SVP","FDP","BDP","CVP","CLP","SP","GPS","other")),
political_interest = factor(ifelse(political_interest > 8, NA, political_interest),
labels = c("very interest", "rather interest", "rather not interested", "not interested at all")),
lr_self = ifelse(lr_self > 10, NA, lr_self),
knowscale = ifelse(knowscale == -1, NA, knowscale),
opinion_eu_membership = factor(ifelse(opinion_eu_membership > 5, NA, opinion_eu_membership),
labels = c('Strongly for EU entry','Rather for EU entry',
'Neither nor', 'Rather in favour to stay out',
'Strongly in favour to stay out')),
opinion_foreigners_swiss_equal = factor(ifelse(opinion_foreigners_swiss_equal > 5, NA, opinion_foreigners_swiss_equal),
labels = c('Strongly for equal chances','Rather for equal chances',
'Neither nor', 'Rather for better chances for Swiss',
'Strongly for better chances for Swiss')),
opinion_environment_economy = factor(ifelse(opinion_environment_economy > 5, NA, opinion_environment_economy),
labels = c('Strongly for environmental protection','Rather for environmental protection',
'Neither nor', 'Rather for economic growth',
'Strongly for economic growth')),
opinion_nuclear_energy = factor(ifelse(opinion_nuclear_energy > 5, NA, opinion_nuclear_energy),
labels = c('Strongly for nuclear energy','Rather for nuclear energy',
'Neither nor', 'Rather against nuclear energy',
'Strongly against nuclear energy')),
opinion_social_expense = factor(ifelse(opinion_social_expense > 5, NA, opinion_social_expense),
labels = c('Strongly for decrease','Rather for decrease',
'Neither nor', 'Rather for increase',
'Strongly for increase'))) %>% as.data.frame()
saveRDS(selects2015, "../selects2015.Rds")
View(selects2015)
setwd("../")
getwd()
setwd("schlegel")
save(selects2015,file="data/selects2015.RData")
system("R CMD build schlegel")
setwd("../")
system("R CMD build schlegel")
system("R CMD check schlegel_0.0.1-9000.tar.gz")
setwd("schlegel")
devtools::document()
install.packages("backports")
devtools::document()
devtools::document()
warnings()
setwd("..")
system("R CMD build schlegel")
system("R CMD check schlegel_0.0.1-9000.tar.gz")
setwd("C:\\Users\\Benjamin Schlegel\\OneDrive - uzh.ch\\01_UZH\\06_R_Book\\data\\selects")
library(dplyr)
selects2015 = haven::read_dta("726_Selects2015_PES_Data_v1.03.dta") %>%
select(gender, age = birthyear, canton,
education = educ_r, participation = f11100r,
vote_choice = f11800main7,
political_interest = f10100,
lr_self = f15200, knowscale,
opinion_social_expense = f15420,
opinion_eu_membership = f15430,
opinion_foreigners_swiss_equal = f15440,
opinion_environment_economy = f15470,
opinion_nuclear_energy = f15490,
weight_total) %>%
mutate(gender = factor(gender, labels = c('male','female')),
age = 2015 - ifelse(age == -9, NA, age),
canton = factor(canton,
labels = c('Zurich','Bern','Luzern','Uri','Schwyz','Obwalden',
'Niedwalden','Glarus','Zug','Fribourg','Solothurn',
'Basel-Stadt','Basel-Landschaft','Schffhausen',
'Appenzell Ausserrhoden','Appenzell Innerrhoden',
'St. Gallen','Grisons','Aargau','Thurgau','Ticino',
'Vaud','Valais','Neuchatel','Geneva','Jura')),
education = factor(recode(as.character(education),
'1' = 'no graduation',
'2' = 'no graduation',
'3' = 'compulsory schooling',
'4' = 'apprenticeship',
'5' = 'apprenticeship',
'6' = 'diploma or trading school',
'7' = 'diploma or trading school',
'8' = '(vocational) matura',
'9' = '(vocational) matura',
'10' = 'higher vocational degree',
'11' = 'HF',
'12' = '(applied/teacher) university',
'13' = '(applied/teacher) university',
.default = NA_character_),
levels = c('no graduation',
'compulsory schooling',
'apprenticeship',
'diploma or trading school',
'(vocational) matura',
'higher vocational degree',
'HF','(applied/teacher) university')),
participation = ifelse(participation > 1, NA, participation),
vote_choice = factor(ifelse(vote_choice == 9, NA, vote_choice),
labels = c("SVP","FDP","BDP","CVP","CLP","SP","GPS","other")),
political_interest = factor(ifelse(political_interest > 8, NA, political_interest),
labels = c("very interest", "rather interest", "rather not interested", "not interested at all")),
lr_self = ifelse(lr_self > 10, NA, lr_self),
knowscale = ifelse(knowscale == -1, NA, knowscale),
opinion_eu_membership = factor(ifelse(opinion_eu_membership > 5, NA, opinion_eu_membership),
labels = c('Strongly for EU entry','Rather for EU entry',
'Neither nor', 'Rather in favour to stay out',
'Strongly in favour to stay out')),
opinion_foreigners_swiss_equal = factor(ifelse(opinion_foreigners_swiss_equal > 5, NA, opinion_foreigners_swiss_equal),
labels = c('Strongly for equal chances','Rather for equal chances',
'Neither nor', 'Rather for better chances for Swiss',
'Strongly for better chances for Swiss')),
opinion_environment_economy = factor(ifelse(opinion_environment_economy > 5, NA, opinion_environment_economy),
labels = c('Strongly for environmental protection','Rather for environmental protection',
'Neither nor', 'Rather for economic growth',
'Strongly for economic growth')),
opinion_nuclear_energy = factor(ifelse(opinion_nuclear_energy > 5, NA, opinion_nuclear_energy),
labels = c('Strongly for nuclear energy','Rather for nuclear energy',
'Neither nor', 'Rather against nuclear energy',
'Strongly against nuclear energy')),
opinion_social_expense = factor(ifelse(opinion_social_expense > 5, NA, opinion_social_expense),
labels = c('Strongly for decrease','Rather for decrease',
'Neither nor', 'Rather for increase',
'Strongly for increase'))) %>% as.data.frame()
saveRDS(selects2015, "../selects2015.Rds")
save(selects2015,file="data/selects2015.RData")
save(selects2015,file="selects2015.RData")
save(selects2015,file="schlegel/data/selects2015.RData")
getwd()
save(selects2015,file="../schlegel/data/selects2015.RData")
system("R CMD build schlegel")
setwd("..")
system("R CMD build schlegel")
system("R CMD check schlegel_0.0.1-9000.tar.gz")
system("R CMD build schlegel")
system("R CMD check schlegel_0.0.1-9000.tar.gz")
setwd("schlegel")
devtools::document()
setwd("..")
system("R CMD build schlegel")
system("R CMD check schlegel_0.0.1-9000.tar.gz")
system("R CMD install schlegel_0.0.1-9000.tar.gz")
system("R CMD INSTALL schlegel_0.0.1-9000.tar.gz")
library(schlegel)
selects2015
?selects2015
getwd(())
getwd(
)
setwd("schlegel")
devtools::document()
setwd("..")
system("R CMD build schlegel")
system("R CMD check schlegel_0.0.1-9000.tar.gz")
system("R CMD INSTALL schlegel_0.0.1-9000.tar.gz")
library(schlegel)
schlegel::selects2015
getwd()
system("R CMD build schlegel")
system("R CMD check schlegel_0.0.1-9000.tar.gz")
system("R CMD INSTALL schlegel_0.0.1-9000.tar.gz")
setwd("C:\\Users\\Benjamin Schlegel\\Documents\\test_")
library(schlegel)
system.file("extdata", "1999-2014_CHES.dta", package = "schlegel")
getwd()
ches = haven::read.dta(system.file("extdata", "1999-2014_CHES.dta", package = "schlegel"))
ches = haven::read_dta(system.file("extdata", "1999-2014_CHES.dta", package = "schlegel"))
file.copy(from = system.file("extdata", "1999-2014_CHES.dta", package = "schlegel"), to = "")
file.copy(from = system.file("extdata", "1999-2014_CHES.dta", package = "schlegel"), to = "C:\\Users\\Benjamin Schlegel\\OneDrive - uzh.ch\\01_UZH\\06_R_Book\\data\\schlegel\\1999-2014_CHES.dta")
file.copy(from = system.file("extdata", "1999-2014_CHES.dta", package = "schlegel"), to = getwd())
getwd()
setwd("C:\\Users\\Benjamin Schlegel\\OneDrive - uzh.ch\\01_UZH\\06_R_Book\\data\\schlegel")
devtools::document()
setwd("..")
system("R CMD build schlegel")
system("R CMD check schlegel_0.0.1-9000.tar.gz")
system("R CMD build schlegel")
system("R CMD check schlegel_0.0.1-9000.tar.gz")
system("R CMD INSTALL schlegel_0.0.1-9000.tar.gz")
library(schlegel)
setwd("C:\\Users\\Benjamin Schlegel\\Documents\\test_")
download_files()
download_files()
seq(1,10)
seq(1,10, by=1)
seq(1,10, by=2)
seq(1,10, by=1)
getwd()
schlegel::download_files()
selects2015 = schlegel::selects2015
View(selects2015)
s = 7140
m = 60*s
h = 60*m
d = 24*h
y = d*365
y
qkm = 1000^2
y / qkm
301338 / (y / qkm)
77910 / (d / qkm) #scotland
getwd()
install.packages("devtools")
devtools::document()
setwd("..")
system("R CMD build schlegel")
system("R CMD check schlegel_0.0.1-9000.tar.gz")
devtools::document()
setwd("schlegel")
devtools::document()
setwd("..")
system("R CMD build schlegel")
system("R CMD build schlegel")
system("R CMD check schlegel_0.0.1-9000.tar.gz")
getwd()
devtools::document()
setwd("..")
system("R CMD build schlegel")
ches = read.csv("1999-2014_CHES.csv")
head(ches)
setwd("E:\\OneDrive - uzh.ch\\01_UZH\\06_R_Book\\data\\schlegel\\inst\\extdata")
library(dplyr)
ches.dta = haven::read_dta("1999-2014_CHES.dta") %>% select(country:galtan)
haven::write_dta("1999-2014_CHES.dta")
haven::write_dta(ches.dta,"1999-2014_CHES.dta")
write.csv(ches.dta,"1999-2014_CHES.dta")
write.csv(ches.dta,"1999-2014_CHES.dta", fileEncoding = "UTF-8")
install.packages("openxlsx")
openxlsx
openxlsx::write.xlsx(ches.dta, "1999-2014_CHES.xlsx")
View(ches)
View(ches.dta)
getwd()
ches = haven::read_dta("../1999-2014_CHES.dta")
ches$chesversion
table(ches$chesversion)
ches = haven::read_dta("../1999-2014_CHES.dta")
devtools::document()
setwd("..")
system("R CMD build schlegel")
system("R CMD check schlegel_0.0.1-9000.tar.gz")
system("R CMD INSTALL schlegel_0.0.1-9000.tar.gz")
schlegel::selects2015
